<?xml version="1.0" encoding="utf-8"?>
<TestRun id="bba16435-8d1a-4a26-9218-46928e8be6a5" name="LOQ@TOIYEUFPT 2025-10-25 11:07:59" runUser="TOIYEUFPT\LOQ" xmlns="http://microsoft.com/schemas/VisualStudio/TeamTest/2010">
  <Times creation="2025-10-25T11:07:59.2685706+07:00" queuing="2025-10-25T11:07:59.2685712+07:00" start="2025-10-25T11:07:58.0796200+07:00" finish="2025-10-25T11:08:02.2819823+07:00" />
  <TestSettings name="default" id="a0a86ecc-b9e2-4ecb-bbfd-a87face2209d">
    <Deployment runDeploymentRoot="LOQ_TOIYEUFPT_2025-10-25_11_07_59" />
  </TestSettings>
  <Results>
    <UnitTestResult executionId="5656bc4e-2dce-4604-b1a7-a6b4378ebaa7" testId="c4d220c1-ead6-92df-4695-53a7abd9c6df" testName="TC01 - Generate prompt with valid membership" computerName="TOIYEUFPT" duration="00:00:01.9912563" startTime="2025-10-25T11:08:02.1879574+07:00" endTime="2025-10-25T11:08:02.1879576+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="5656bc4e-2dce-4604-b1a7-a6b4378ebaa7">
      <Output>
        <StdOut>Input: UserId=1 (has membership)&#xD;
Output: HTTP 200, Result={"Title":"IELTS Speaking Part 2 - AI Gen","Content":"Describe a memorable event in your life and explain why it was special."}</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="ce97bf83-637d-478c-8975-d439214fa640" testId="5617757b-a2f1-a073-3ac9-2f1e7b5000f8" testName="TC17 - Transcribe: Throws when file is null" computerName="TOIYEUFPT" duration="00:00:00.0484905" startTime="2025-10-25T11:07:58.6709793+07:00" endTime="2025-10-25T11:07:58.6709795+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="ce97bf83-637d-478c-8975-d439214fa640">
      <Output>
        <StdOut>Input: File=null&#xD;
Output: Exception ArgumentException (Invalid audio file)</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="77386fa8-c108-48f3-b303-f13a1acd4521" testId="fa79fd41-2830-4b34-87c1-f46abacb29a3" testName="TC12 - Grader: Throws when transcript empty" computerName="TOIYEUFPT" duration="00:00:00.0032479" startTime="2025-10-25T11:07:58.6198118+07:00" endTime="2025-10-25T11:07:58.6198119+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="77386fa8-c108-48f3-b303-f13a1acd4521">
      <Output>
        <StdOut>Input: Empty transcript&#xD;
Output: Exception ArgumentException (Transcript cannot be empty)</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="d5904ca0-b4b0-4072-b6ff-5398cf0cf8ff" testId="0fd07555-e211-dcb5-746a-eb6d8e14980d" testName="TC05 - Submit with expired membership" computerName="TOIYEUFPT" duration="00:00:00.0045630" startTime="2025-10-25T11:07:59.5154842+07:00" endTime="2025-10-25T11:07:59.5154844+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="d5904ca0-b4b0-4072-b6ff-5398cf0cf8ff">
      <Output>
        <StdOut>Input: UserId=8 (no membership), File='fake.mp3'&#xD;
Output: HTTP 403, Message={"message":"Membership required or expired."}</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="c323e1a9-7a4f-4ced-a592-4542d39dd49f" testId="bc169991-b2dd-01a3-32a6-50c551060f6d" testName="TC08 - Prompt: Generate valid JSON output" computerName="TOIYEUFPT" duration="00:00:00.3589999" startTime="2025-10-25T11:07:59.5860995+07:00" endTime="2025-10-25T11:07:59.5860996+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="c323e1a9-7a4f-4ced-a592-4542d39dd49f">
      <Output>
        <StdOut>Input: Request AI to generate one IELTS topic (using fake API key)&#xD;
Output: Exception KeyNotFound (missing 'Title' in JSON, as expected for fake API key)</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="22d87207-2e1a-4413-9d61-436864234cdc" testId="c0a08982-3150-380c-3e55-7d9a32b7070c" testName="TC13 - Grader: Extract JSON safely" computerName="TOIYEUFPT" duration="00:00:00.0019859" startTime="2025-10-25T11:07:59.3100551+07:00" endTime="2025-10-25T11:07:59.3100553+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="22d87207-2e1a-4413-9d61-436864234cdc">
      <Output>
        <StdOut>Input: Raw text without valid JSON&#xD;
Output: Extracted JSON = '{}'</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="9a5da190-ad0c-43f5-873e-448c94909780" testId="d1983781-01a0-72fb-037c-3940ba98e1a3" testName="TC09 - Prompt: Handle malformed JSON gracefully" computerName="TOIYEUFPT" duration="00:00:00.0952535" startTime="2025-10-25T11:07:58.6183426+07:00" endTime="2025-10-25T11:07:58.6183427+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="9a5da190-ad0c-43f5-873e-448c94909780">
      <Output>
        <StdOut>Input: Simulate malformed JSON from AI&#xD;
Output: Exception caught - 'b' is an invalid start of a property name. Expected a '"'. LineNumber: 0 | BytePositionInLine: 2.</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="2801f721-b2b0-46b6-9011-29750fa5fca4" testId="9942f643-522d-c890-2b17-4ec6bba5bb00" testName="TC16 - Transcribe: Return text when mocked audio provided" computerName="TOIYEUFPT" duration="00:00:00.7393758" startTime="2025-10-25T11:07:59.4107334+07:00" endTime="2025-10-25T11:07:59.4107338+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="2801f721-b2b0-46b6-9011-29750fa5fca4">
      <Output>
        <StdOut>Input: File='test.mp3' (8 bytes of fake audio)&#xD;
Output: DeepgramRESTException (invalid credentials)</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="302fa5bd-0df7-4fb3-9125-9879cf871dc0" testId="c179ed30-e393-3843-22d1-b6b1aef8fd17" testName="TC18 - Transcribe: Throws when file empty" computerName="TOIYEUFPT" duration="00:00:00.0038186" startTime="2025-10-25T11:07:59.4146090+07:00" endTime="2025-10-25T11:07:59.4146091+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="302fa5bd-0df7-4fb3-9125-9879cf871dc0">
      <Output>
        <StdOut>Input: File='empty.mp3' (0 bytes)&#xD;
Output: Exception ArgumentException (Invalid audio file)</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="c4c5b95f-1f24-43a0-815d-0189b299fa48" testId="9b3de738-38f6-d58d-dfcf-00f881352873" testName="TC19 - Mock External Dependencies (PromptModule)" computerName="TOIYEUFPT" duration="00:00:00.0592073" startTime="2025-10-25T11:07:59.6453855+07:00" endTime="2025-10-25T11:07:59.6453859+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="c4c5b95f-1f24-43a0-815d-0189b299fa48">
      <Output>
        <StdOut>=== TEST CASE: TC19 - Mock External Dependencies (PromptModule) ===&#xD;
Input:&#xD;
  - Config: OpenAI:ApiKey = mock-key&#xD;
  - Mocked HTTP Response:
&#xD;
            {&#xD;
              "choices": [&#xD;
                { "message": { "content": "{\"Title\":\"Mocked Topic\", \"Content\":\"Describe a mock AI test case\"}" } }&#xD;
              ]&#xD;
            }&#xD;
--------------------------------------------------&#xD;
Output:&#xD;
  - Title: Mocked Topic&#xD;
  - Content: Describe a mock AI test case&#xD;
--------------------------------------------------&#xD;
Result: ✅ PASS (mocked dependencies work as expected)</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="fb167647-5b32-4fad-a191-0bb155d1435a" testId="7e87361f-8a14-d2b0-85df-02606476bc69" testName="TC04 - Submit without prompt" computerName="TOIYEUFPT" duration="00:00:00.0290652" startTime="2025-10-25T11:07:59.4702537+07:00" endTime="2025-10-25T11:07:59.4702538+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="fb167647-5b32-4fad-a191-0bb155d1435a">
      <Output>
        <StdOut>Input: File='fake.mp3', Prompt='' (empty)&#xD;
Output: HTTP 400, Message={"message":"Missing AI-generated prompt."}</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="3664d5b7-969d-4af3-8b98-af9c89410dc5" testId="f033072e-5beb-bbde-48a4-f5c814e696eb" testName="TC11 - Grader: Constructor throws when missing key" computerName="TOIYEUFPT" duration="00:00:00.0953558" startTime="2025-10-25T11:07:58.6167822+07:00" endTime="2025-10-25T11:07:58.6167950+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="3664d5b7-969d-4af3-8b98-af9c89410dc5">
      <Output>
        <StdOut>Input: Missing OpenAI API key&#xD;
Output: Exception thrown (Missing OpenAI API key)</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="34f57af1-76a7-4f6b-b3e1-1b1e16ab1e7f" testId="c5a91eab-76fa-ef78-cee9-85c035ed5b7a" testName="TC14 - Grader: Handle fake API key" computerName="TOIYEUFPT" duration="00:00:00.6877547" startTime="2025-10-25T11:07:59.3079645+07:00" endTime="2025-10-25T11:07:59.3079646+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="34f57af1-76a7-4f6b-b3e1-1b1e16ab1e7f">
      <Output>
        <StdOut>Input: Transcript='My favorite book...', Topic='Describe a book'&#xD;
Output: Exception KeyNotFound (invalid API key)</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="5b77957e-91fa-47c2-a63b-697e90d83871" testId="745b96d1-f7e6-ea5e-a166-43eeb697fa0e" testName="TC06 - Submit valid audio and prompt" computerName="TOIYEUFPT" duration="00:00:00.6803428" startTime="2025-10-25T11:08:00.1962383+07:00" endTime="2025-10-25T11:08:00.1962387+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="5b77957e-91fa-47c2-a63b-697e90d83871">
      <Output>
        <StdOut>Input: UserId=1 (has membership), File='fake.mp3', Prompt='Describe a person you admire'&#xD;
Output: Type=ObjectResult</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="f535669c-1298-4591-a9d5-dcd438a9080c" testId="3c06dd79-11d6-c08f-d605-bc0d4bb9f61f" testName="TC10 - Prompt: Throw on fake API key" computerName="TOIYEUFPT" duration="00:00:00.6071907" startTime="2025-10-25T11:07:59.2256501+07:00" endTime="2025-10-25T11:07:59.2256505+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="f535669c-1298-4591-a9d5-dcd438a9080c">
      <Output>
        <StdOut>Input: Using fake API key 'fake'&#xD;
Output: Exception KeyNotFound (invalid API key)</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="aa38ea01-36b6-45b4-9f56-68ca4a79699e" testId="bec0e9ad-6ff8-b372-5989-31dee7e65f88" testName="TC02 - Generate prompt without membership" computerName="TOIYEUFPT" duration="00:00:00.0398699" startTime="2025-10-25T11:07:59.5105544+07:00" endTime="2025-10-25T11:07:59.5105545+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="aa38ea01-36b6-45b4-9f56-68ca4a79699e">
      <Output>
        <StdOut>Input: UserId=8 (no membership)&#xD;
Output: HTTP 403, Message={"message":"Membership required or expired."}</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="eb606436-dabc-4367-a578-13f55896e90a" testId="5c75b38b-d17d-425c-a21f-a4ff1c5f3e52" testName="TC03 - Submit without file" computerName="TOIYEUFPT" duration="00:00:00.9230896" startTime="2025-10-25T11:07:59.4406431+07:00" endTime="2025-10-25T11:07:59.4406432+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="eb606436-dabc-4367-a578-13f55896e90a">
      <Output>
        <StdOut>Input: File=null, Prompt='Describe...'&#xD;
Output: HTTP 400, Message={"message":"Please upload a valid audio file."}</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="b844fa17-8838-45c9-bc07-d97c2294a049" testId="827a7906-a534-5e27-b5ae-13652be2c57e" testName="TC15 - Transcribe: Constructor throws when missing key" computerName="TOIYEUFPT" duration="00:00:00.1031508" startTime="2025-10-25T11:07:58.6224338+07:00" endTime="2025-10-25T11:07:58.6224339+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="b844fa17-8838-45c9-bc07-d97c2294a049">
      <Output>
        <StdOut>Input: Missing Deepgram API key&#xD;
Output: Exception thrown (Missing Deepgram API key)</StdOut>
      </Output>
    </UnitTestResult>
    <UnitTestResult executionId="a04bd0a0-cb57-4380-adda-191eeab7190f" testId="f34d48d8-16c1-d646-33ba-4112f0cf4cf4" testName="TC07 - Prompt: Constructor throws when missing key" computerName="TOIYEUFPT" duration="00:00:00.0002469" startTime="2025-10-25T11:07:59.2409660+07:00" endTime="2025-10-25T11:07:59.2409661+07:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="a04bd0a0-cb57-4380-adda-191eeab7190f">
      <Output>
        <StdOut>Input: Missing OpenAI API key&#xD;
Output: Exception thrown (Missing OpenAI API key)</StdOut>
      </Output>
    </UnitTestResult>
  </Results>
  <TestDefinitions>
    <UnitTest name="TC03 - Submit without file" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="5c75b38b-d17d-425c-a21f-a4ff1c5f3e52">
      <Execution id="eb606436-dabc-4367-a578-13f55896e90a" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Controllers.AISpeakingControllerTests" name="Submit_ShouldReturn400_WhenFileMissing" />
    </UnitTest>
    <UnitTest name="TC02 - Generate prompt without membership" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="bec0e9ad-6ff8-b372-5989-31dee7e65f88">
      <Execution id="aa38ea01-36b6-45b4-9f56-68ca4a79699e" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Controllers.AISpeakingControllerTests" name="GeneratePrompt_ShouldReturn403_WhenUserNoMembership" />
    </UnitTest>
    <UnitTest name="TC15 - Transcribe: Constructor throws when missing key" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="827a7906-a534-5e27-b5ae-13652be2c57e">
      <Execution id="b844fa17-8838-45c9-bc07-d97c2294a049" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.TranscriptionModuleTests" name="Constructor_ShouldThrow_WhenMissingKey" />
    </UnitTest>
    <UnitTest name="TC07 - Prompt: Constructor throws when missing key" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="f34d48d8-16c1-d646-33ba-4112f0cf4cf4">
      <Execution id="a04bd0a0-cb57-4380-adda-191eeab7190f" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.PromptModuleTests" name="Constructor_ShouldThrow_WhenMissingKey" />
    </UnitTest>
    <UnitTest name="TC13 - Grader: Extract JSON safely" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="c0a08982-3150-380c-3e55-7d9a32b7070c">
      <Execution id="22d87207-2e1a-4413-9d61-436864234cdc" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.GradingModuleTests" name="ExtractJson_ShouldReturnEmpty_WhenBadString" />
    </UnitTest>
    <UnitTest name="TC05 - Submit with expired membership" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="0fd07555-e211-dcb5-746a-eb6d8e14980d">
      <Execution id="d5904ca0-b4b0-4072-b6ff-5398cf0cf8ff" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Controllers.AISpeakingControllerTests" name="Submit_ShouldReturn403_WhenMembershipExpired" />
    </UnitTest>
    <UnitTest name="TC17 - Transcribe: Throws when file is null" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="5617757b-a2f1-a073-3ac9-2f1e7b5000f8">
      <Execution id="ce97bf83-637d-478c-8975-d439214fa640" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.TranscriptionModuleTests" name="TranscribeAsync_ShouldThrow_WhenFileNull" />
    </UnitTest>
    <UnitTest name="TC08 - Prompt: Generate valid JSON output" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="bc169991-b2dd-01a3-32a6-50c551060f6d">
      <Execution id="c323e1a9-7a4f-4ced-a592-4542d39dd49f" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.PromptModuleTests" name="GenerateSpeakingPromptAsync_ShouldReturnTuple" />
    </UnitTest>
    <UnitTest name="TC14 - Grader: Handle fake API key" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="c5a91eab-76fa-ef78-cee9-85c035ed5b7a">
      <Execution id="34f57af1-76a7-4f6b-b3e1-1b1e16ab1e7f" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.GradingModuleTests" name="GradeSpeakingAsync_ShouldThrow_OnFakeKey" />
    </UnitTest>
    <UnitTest name="TC12 - Grader: Throws when transcript empty" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="fa79fd41-2830-4b34-87c1-f46abacb29a3">
      <Execution id="77386fa8-c108-48f3-b303-f13a1acd4521" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.GradingModuleTests" name="GradeSpeakingAsync_ShouldThrow_WhenTranscriptEmpty" />
    </UnitTest>
    <UnitTest name="TC10 - Prompt: Throw on fake API key" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="3c06dd79-11d6-c08f-d605-bc0d4bb9f61f">
      <Execution id="f535669c-1298-4591-a9d5-dcd438a9080c" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.PromptModuleTests" name="CallOpenAIAsync_ShouldThrow_OnBadKey" />
    </UnitTest>
    <UnitTest name="TC19 - Mock External Dependencies (PromptModule)" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="9b3de738-38f6-d58d-dfcf-00f881352873">
      <Execution id="c4c5b95f-1f24-43a0-815d-0189b299fa48" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.PromptModuleTests" name="GenerateSpeakingPromptAsync_ShouldReturnMockedData" />
    </UnitTest>
    <UnitTest name="TC18 - Transcribe: Throws when file empty" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="c179ed30-e393-3843-22d1-b6b1aef8fd17">
      <Execution id="302fa5bd-0df7-4fb3-9125-9879cf871dc0" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.TranscriptionModuleTests" name="TranscribeAsync_ShouldThrow_WhenFileEmpty" />
    </UnitTest>
    <UnitTest name="TC04 - Submit without prompt" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="7e87361f-8a14-d2b0-85df-02606476bc69">
      <Execution id="fb167647-5b32-4fad-a191-0bb155d1435a" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Controllers.AISpeakingControllerTests" name="Submit_ShouldReturn400_WhenPromptMissing" />
    </UnitTest>
    <UnitTest name="TC11 - Grader: Constructor throws when missing key" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="f033072e-5beb-bbde-48a4-f5c814e696eb">
      <Execution id="3664d5b7-969d-4af3-8b98-af9c89410dc5" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.GradingModuleTests" name="Constructor_ShouldThrow_WhenMissingKey" />
    </UnitTest>
    <UnitTest name="TC06 - Submit valid audio and prompt" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="745b96d1-f7e6-ea5e-a166-43eeb697fa0e">
      <Execution id="5b77957e-91fa-47c2-a63b-697e90d83871" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Controllers.AISpeakingControllerTests" name="Submit_ShouldReturn200_WhenValid" />
    </UnitTest>
    <UnitTest name="TC09 - Prompt: Handle malformed JSON gracefully" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="d1983781-01a0-72fb-037c-3940ba98e1a3">
      <Execution id="9a5da190-ad0c-43f5-873e-448c94909780" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.PromptModuleTests" name="Fallback_ShouldReturnDefault_OnParseError" />
    </UnitTest>
    <UnitTest name="TC16 - Transcribe: Return text when mocked audio provided" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="9942f643-522d-c890-2b17-4ec6bba5bb00">
      <Execution id="2801f721-b2b0-46b6-9011-29750fa5fca4" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Services.TranscriptionModuleTests" name="TranscribeAsync_ShouldReturnString_WhenMocked" />
    </UnitTest>
    <UnitTest name="TC01 - Generate prompt with valid membership" storage="d:\learncsharp\backend\group1_swp391_fptu\server\emt_api.tests\bin\debug\net9.0\emt_api.tests.dll" id="c4d220c1-ead6-92df-4695-53a7abd9c6df">
      <Execution id="5656bc4e-2dce-4604-b1a7-a6b4378ebaa7" />
      <TestMethod codeBase="D:\LearnCSharp\backend\Group1_SWP391_FPTU\server\EMT_API.Tests\bin\Debug\net9.0\EMT_API.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="EMT_API.Tests.Controllers.AISpeakingControllerTests" name="GeneratePrompt_ShouldReturn200_WhenUserHasMembership" />
    </UnitTest>
  </TestDefinitions>
  <TestEntries>
    <TestEntry testId="c4d220c1-ead6-92df-4695-53a7abd9c6df" executionId="5656bc4e-2dce-4604-b1a7-a6b4378ebaa7" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="5617757b-a2f1-a073-3ac9-2f1e7b5000f8" executionId="ce97bf83-637d-478c-8975-d439214fa640" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="fa79fd41-2830-4b34-87c1-f46abacb29a3" executionId="77386fa8-c108-48f3-b303-f13a1acd4521" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="0fd07555-e211-dcb5-746a-eb6d8e14980d" executionId="d5904ca0-b4b0-4072-b6ff-5398cf0cf8ff" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="bc169991-b2dd-01a3-32a6-50c551060f6d" executionId="c323e1a9-7a4f-4ced-a592-4542d39dd49f" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="c0a08982-3150-380c-3e55-7d9a32b7070c" executionId="22d87207-2e1a-4413-9d61-436864234cdc" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="d1983781-01a0-72fb-037c-3940ba98e1a3" executionId="9a5da190-ad0c-43f5-873e-448c94909780" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="9942f643-522d-c890-2b17-4ec6bba5bb00" executionId="2801f721-b2b0-46b6-9011-29750fa5fca4" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="c179ed30-e393-3843-22d1-b6b1aef8fd17" executionId="302fa5bd-0df7-4fb3-9125-9879cf871dc0" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="9b3de738-38f6-d58d-dfcf-00f881352873" executionId="c4c5b95f-1f24-43a0-815d-0189b299fa48" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="7e87361f-8a14-d2b0-85df-02606476bc69" executionId="fb167647-5b32-4fad-a191-0bb155d1435a" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="f033072e-5beb-bbde-48a4-f5c814e696eb" executionId="3664d5b7-969d-4af3-8b98-af9c89410dc5" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="c5a91eab-76fa-ef78-cee9-85c035ed5b7a" executionId="34f57af1-76a7-4f6b-b3e1-1b1e16ab1e7f" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="745b96d1-f7e6-ea5e-a166-43eeb697fa0e" executionId="5b77957e-91fa-47c2-a63b-697e90d83871" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="3c06dd79-11d6-c08f-d605-bc0d4bb9f61f" executionId="f535669c-1298-4591-a9d5-dcd438a9080c" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="bec0e9ad-6ff8-b372-5989-31dee7e65f88" executionId="aa38ea01-36b6-45b4-9f56-68ca4a79699e" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="5c75b38b-d17d-425c-a21f-a4ff1c5f3e52" executionId="eb606436-dabc-4367-a578-13f55896e90a" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="827a7906-a534-5e27-b5ae-13652be2c57e" executionId="b844fa17-8838-45c9-bc07-d97c2294a049" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="f34d48d8-16c1-d646-33ba-4112f0cf4cf4" executionId="a04bd0a0-cb57-4380-adda-191eeab7190f" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
  </TestEntries>
  <TestLists>
    <TestList name="Results Not in a List" id="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestList name="All Loaded Results" id="19431567-8539-422a-85d7-44ee4e166bda" />
  </TestLists>
  <ResultSummary outcome="Completed">
    <Counters total="19" executed="19" passed="19" failed="0" error="0" timeout="0" aborted="0" inconclusive="0" passedButRunAborted="0" notRunnable="0" notExecuted="0" disconnected="0" warning="0" completed="0" inProgress="0" pending="0" />
    <Output>
      <StdOut>[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v2.5.7+8f2703126a (64-bit .NET 9.0.8)&#xD;
[xUnit.net 00:00:00.07]   Discovering: EMT_API.Tests&#xD;
[xUnit.net 00:00:00.10]   Discovered:  EMT_API.Tests&#xD;
[xUnit.net 00:00:00.10]   Starting:    EMT_API.Tests&#xD;
2025-10-25 11:07:58.625 [Information] DeepgramHttpClientOptions: OnPrem: False&#xD;
2025-10-25 11:07:58.632 [Information] DeepgramHttpClientOptions: APIVersion: v1&#xD;
2025-10-25 11:07:58.632 [Information] DeepgramHttpClientOptions: API KEY set from parameter&#xD;
2025-10-25 11:07:58.634 [Information] DeepgramHttpClientOptions: REST BaseAddress does not contain API version: api.deepgram.com&#xD;
2025-10-25 11:07:58.634 [Information] DeepgramHttpClientOptions: BaseAddress contains no protocol: api.deepgram.com/v1&#xD;
2025-10-25 11:07:58.634 [Information] DeepgramHttpClientOptions: BaseAddress: https://api.deepgram.com/v1&#xD;
2025-10-25 11:07:58.637 [Information] HttpClientFactory.Create: HttpClient ID: DEEPGRAM_HTTP_CLIENT&#xD;
2025-10-25 11:07:58.671 [Information] DeepgramHttpClientOptions: OnPrem: False&#xD;
2025-10-25 11:07:58.671 [Information] DeepgramHttpClientOptions: APIVersion: v1&#xD;
2025-10-25 11:07:58.671 [Information] DeepgramHttpClientOptions: API KEY set from parameter&#xD;
2025-10-25 11:07:58.671 [Information] DeepgramHttpClientOptions: REST BaseAddress does not contain API version: api.deepgram.com&#xD;
2025-10-25 11:07:58.671 [Information] DeepgramHttpClientOptions: BaseAddress contains no protocol: api.deepgram.com/v1&#xD;
2025-10-25 11:07:58.671 [Information] DeepgramHttpClientOptions: BaseAddress: https://api.deepgram.com/v1&#xD;
2025-10-25 11:07:58.671 [Information] HttpClientFactory.Create: HttpClient ID: DEEPGRAM_HTTP_CLIENT&#xD;
2025-10-25 11:07:58.676 [Information] TranscribeFile: source: System.IO.MemoryStream&#xD;
2025-10-25 11:07:58.689 [Information] DeepgramHttpClientOptions: OnPrem: False&#xD;
2025-10-25 11:07:58.689 [Information] DeepgramHttpClientOptions: APIVersion: v1&#xD;
2025-10-25 11:07:58.689 [Information] DeepgramHttpClientOptions: API KEY set from parameter&#xD;
2025-10-25 11:07:58.689 [Information] DeepgramHttpClientOptions: REST BaseAddress does not contain API version: api.deepgram.com&#xD;
2025-10-25 11:07:58.689 [Information] DeepgramHttpClientOptions: BaseAddress contains no protocol: api.deepgram.com/v1&#xD;
2025-10-25 11:07:58.689 [Information] DeepgramHttpClientOptions: BaseAddress: https://api.deepgram.com/v1&#xD;
2025-10-25 11:07:58.689 [Information] HttpClientFactory.Create: HttpClient ID: DEEPGRAM_HTTP_CLIENT&#xD;
2025-10-25 11:07:58.693 [Information] TranscribeFile: prerecordedSchema:&#xD;
{&#xD;
  "language": "en",&#xD;
  "model": "nova-3",&#xD;
  "paragraphs": true,&#xD;
  "smart_format": true&#xD;
}&#xD;
2025-10-25 11:07:58.695 [Information] PostAsync&lt;R, S, T&gt;: Using default timeout: 30000&#xD;
2025-10-25 11:07:59.405 [Error] PostAsync&lt;R, S, T&gt;: Deepgram.Models.Exceptions.v1.DeepgramRESTException thrown Invalid credentials.&#xD;
2025-10-25 11:07:59.411 [Information] DeepgramHttpClientOptions: OnPrem: False&#xD;
2025-10-25 11:07:59.413 [Information] DeepgramHttpClientOptions: APIVersion: v1&#xD;
2025-10-25 11:07:59.413 [Information] DeepgramHttpClientOptions: API KEY set from parameter&#xD;
2025-10-25 11:07:59.413 [Information] DeepgramHttpClientOptions: REST BaseAddress does not contain API version: api.deepgram.com&#xD;
2025-10-25 11:07:59.413 [Information] DeepgramHttpClientOptions: BaseAddress contains no protocol: api.deepgram.com/v1&#xD;
2025-10-25 11:07:59.413 [Information] DeepgramHttpClientOptions: BaseAddress: https://api.deepgram.com/v1&#xD;
2025-10-25 11:07:59.413 [Information] HttpClientFactory.Create: HttpClient ID: DEEPGRAM_HTTP_CLIENT&#xD;
2025-10-25 11:07:59.447 [Information] DeepgramHttpClientOptions: OnPrem: False&#xD;
2025-10-25 11:07:59.447 [Information] DeepgramHttpClientOptions: APIVersion: v1&#xD;
2025-10-25 11:07:59.447 [Information] DeepgramHttpClientOptions: API KEY set from parameter&#xD;
2025-10-25 11:07:59.447 [Information] DeepgramHttpClientOptions: REST BaseAddress does not contain API version: api.deepgram.com&#xD;
2025-10-25 11:07:59.447 [Information] DeepgramHttpClientOptions: BaseAddress contains no protocol: api.deepgram.com/v1&#xD;
2025-10-25 11:07:59.447 [Information] DeepgramHttpClientOptions: BaseAddress: https://api.deepgram.com/v1&#xD;
2025-10-25 11:07:59.447 [Information] HttpClientFactory.Create: HttpClient ID: DEEPGRAM_HTTP_CLIENT&#xD;
2025-10-25 11:07:59.471 [Information] DeepgramHttpClientOptions: OnPrem: False&#xD;
2025-10-25 11:07:59.471 [Information] DeepgramHttpClientOptions: APIVersion: v1&#xD;
2025-10-25 11:07:59.472 [Information] DeepgramHttpClientOptions: API KEY set from parameter&#xD;
2025-10-25 11:07:59.472 [Information] DeepgramHttpClientOptions: REST BaseAddress does not contain API version: api.deepgram.com&#xD;
2025-10-25 11:07:59.472 [Information] DeepgramHttpClientOptions: BaseAddress contains no protocol: api.deepgram.com/v1&#xD;
2025-10-25 11:07:59.472 [Information] DeepgramHttpClientOptions: BaseAddress: https://api.deepgram.com/v1&#xD;
2025-10-25 11:07:59.472 [Information] HttpClientFactory.Create: HttpClient ID: DEEPGRAM_HTTP_CLIENT&#xD;
2025-10-25 11:07:59.512 [Information] DeepgramHttpClientOptions: OnPrem: False&#xD;
2025-10-25 11:07:59.512 [Information] DeepgramHttpClientOptions: APIVersion: v1&#xD;
2025-10-25 11:07:59.512 [Information] DeepgramHttpClientOptions: API KEY set from parameter&#xD;
2025-10-25 11:07:59.512 [Information] DeepgramHttpClientOptions: REST BaseAddress does not contain API version: api.deepgram.com&#xD;
2025-10-25 11:07:59.512 [Information] DeepgramHttpClientOptions: BaseAddress contains no protocol: api.deepgram.com/v1&#xD;
2025-10-25 11:07:59.512 [Information] DeepgramHttpClientOptions: BaseAddress: https://api.deepgram.com/v1&#xD;
2025-10-25 11:07:59.512 [Information] HttpClientFactory.Create: HttpClient ID: DEEPGRAM_HTTP_CLIENT&#xD;
2025-10-25 11:07:59.517 [Information] DeepgramHttpClientOptions: OnPrem: False&#xD;
2025-10-25 11:07:59.517 [Information] DeepgramHttpClientOptions: APIVersion: v1&#xD;
2025-10-25 11:07:59.517 [Information] DeepgramHttpClientOptions: API KEY set from parameter&#xD;
2025-10-25 11:07:59.517 [Information] DeepgramHttpClientOptions: REST BaseAddress does not contain API version: api.deepgram.com&#xD;
2025-10-25 11:07:59.517 [Information] DeepgramHttpClientOptions: BaseAddress contains no protocol: api.deepgram.com/v1&#xD;
2025-10-25 11:07:59.517 [Information] DeepgramHttpClientOptions: BaseAddress: https://api.deepgram.com/v1&#xD;
2025-10-25 11:07:59.517 [Information] HttpClientFactory.Create: HttpClient ID: DEEPGRAM_HTTP_CLIENT&#xD;
2025-10-25 11:07:59.521 [Information] TranscribeFile: source: System.IO.MemoryStream&#xD;
2025-10-25 11:07:59.523 [Information] TranscribeFile: prerecordedSchema:&#xD;
{&#xD;
  "language": "en",&#xD;
  "model": "nova-3",&#xD;
  "paragraphs": true,&#xD;
  "smart_format": true&#xD;
}&#xD;
2025-10-25 11:07:59.523 [Information] PostAsync&lt;R, S, T&gt;: Using default timeout: 30000&#xD;
2025-10-25 11:08:00.194 [Error] PostAsync&lt;R, S, T&gt;: Deepgram.Models.Exceptions.v1.DeepgramRESTException thrown Bad Request: failed to process audio: corrupt or unsupported data&#xD;
2025-10-25 11:08:00.197 [Information] DeepgramHttpClientOptions: OnPrem: False&#xD;
2025-10-25 11:08:00.197 [Information] DeepgramHttpClientOptions: APIVersion: v1&#xD;
2025-10-25 11:08:00.197 [Information] DeepgramHttpClientOptions: API KEY set from parameter&#xD;
2025-10-25 11:08:00.198 [Information] DeepgramHttpClientOptions: REST BaseAddress does not contain API version: api.deepgram.com&#xD;
2025-10-25 11:08:00.198 [Information] DeepgramHttpClientOptions: BaseAddress contains no protocol: api.deepgram.com/v1&#xD;
2025-10-25 11:08:00.198 [Information] DeepgramHttpClientOptions: BaseAddress: https://api.deepgram.com/v1&#xD;
2025-10-25 11:08:00.198 [Information] HttpClientFactory.Create: HttpClient ID: DEEPGRAM_HTTP_CLIENT&#xD;
[xUnit.net 00:00:03.80]   Finished:    EMT_API.Tests&#xD;
</StdOut>
    </Output>
  </ResultSummary>
</TestRun>